@reference '../../index.css';

main {
  .wishlist-header {
    .wishlist-header-container {
      @apply bg-secondary p-2 pb-0 rounded-sm shadow-simple-tiny grid grid-rows-[auto_0fr] transition-[grid] gap-2;

      &.expanded {
        @apply grid-rows-[auto_1fr] pb-2;
      }

      .content {
        .content-header {
          &.open {
            & > button {
              svg {
                @apply text-cta;
              }
            }

            .content-menu {
              @apply block;
            }
          }

          & > button {
            &.open {
              svg {
                @apply text-cta;
              }
            }

            svg {
              @apply w-2 h-2 text-title transition-colors;
            }
          }
        }

        & > p {
          @apply text-sm text-description;

          span {
            @apply font-medium text-title;
          }
        }

        .content-menu {
          button {
            @apply block bg-dark p-1 pr-2 text-title text-sm font-medium text-start text-nowrap transition-[filter] hover:brightness-75 last:border-t-1 last:border-t-description/50 w-full cursor-pointer;
          }
        }
      }

      .editing-container {
        .privacy-level {
          @apply grid gap-[6px];

          .btn-container {
            button {
              @apply w-full text-sm text-title text-center font-medium py-1 bg-dark transition-[filter] hover:brightness-60 cursor-pointer z-0 focus:z-1;

              &:first-child {
                @apply rounded-tl-sm rounded-bl-sm;
              }

              &:last-child {
                @apply rounded-tr-sm rounded-br-sm;
              }

              &.selected {
                @apply bg-light font-bold text-dark brightness-100 hover:brightness-100;
              }
            }
          }
        }
      }
    }
  }

  .new-wishlist-item-form-container {
    .inner-container {
      &.expanded {
        .header {
          @apply border-b-light-gray rounded-bl-none rounded-br-none;
        }

        svg {
          @apply rotate-180;
        }

        form.wishlist-item-form {
          @apply py-2;
        }
      }
    }
  }

  form.wishlist-item-form {
    &.edit-mode {
      .btn-container {
        @apply sm:flex-col md:flex-row;

        button {
          &:first-child {
            @apply sm:w-full md:w-fit sm:order-2 md:order-1;
          }

          &:last-child {
            @apply sm:w-full md:w-fit sm:order-1 md:order-2;
          }
        }
      }
    }
  }

  .wishlist-items-toolbar {
    .inner-container {
      & > header {
        .toolbar-btn {
          @apply bg-dark p-1 rounded-[50%] shadow-simple-tiny cursor-pointer transition-[filter_colors] hover:brightness-75;

          svg {
            @apply w-2 h-2;
          }
        }

        .view-btn {
          @apply flex justify-between gap-2 mr-auto px-2 bg-dark shadow-simple-tiny overflow-hidden rounded-pill relative after:absolute after:top-0 after:left-0 after:h-full after:w-1/2 after:bg-secondary after:transition-transform;

          &.single-column-grid {
            @apply after:translate-x-full;
          }
        }

        .options,
        .sort {
          &.open {
            button {
              @apply text-cta;
            }

            .options-menu,
            .sort-menu {
              @apply block;
            }
          }

          .options-menu,
          .sort-menu {
            button {
              @apply block bg-dark p-1 pr-2 text-title text-sm font-medium text-start text-nowrap transition-[filter] hover:brightness-75 w-full cursor-pointer;
            }
          }
        }
      }

      .filters {
        @apply hidden bg-secondary p-2 rounded-sm shadow-simple-tiny mb-2;

        &.open {
          @apply block;
        }

        .filter-item {
          &.open {
            @apply not-last:mb-2;

            .checkbox-container {
              @apply grid;
            }
          }

          .checkbox-container {
            .checkbox-btn {
              @apply flex justify-center items-center gap-[4px] w-fit cursor-pointer transition-[filter] hover:brightness-75;

              &.checked {
                .checkbox {
                  @apply bg-cta;

                  svg {
                    @apply scale-100 rotate-0;
                  }
                }
              }

              .checkbox {
                @apply grid place-items-center w-[1.4rem] h-[1.4rem] bg-light rounded-[1px];

                svg {
                  @apply w-[1rem] h-[1rem] transition-transform rotate-180 scale-0;
                }
              }

              span {
                @apply text-sm text-description leading-[1];
              }
            }
          }
        }
      }
    }
  }

  .wishlist-items {
    .wishlist-items-container {
      .wishlist-item {
        &.purchased {
          .header {
            @apply after:absolute after:top-[-1rem] after:right-[-1rem] after:w-2 after:h-2 after:bg-cta after:rotate-45 after:z-1;
          }
        }

        &.expanded {
          .header {
            @apply rounded-bl-none rounded-br-none border-b-light-gray;

            span {
              svg {
                @apply rotate-180;
              }
            }
          }

          .body {
            @apply flex;
          }
        }

        form.wishlist-item-form {
          input {
            @apply sm:text-sm;
          }
        }

        .body {
          .body-content {
            .tags {
              span {
                @apply inline-block p-[4px] m-[2px] bg-light text-dark rounded leading-[1] break-words max-w-[20rem] font-medium;
              }
            }
          }

          .body-btn-container {
            &.open {
              .item-menu-btn {
                @apply bg-dark;

                svg {
                  @apply text-cta;
                }
              }

              .item-menu {
                @apply block;
              }
            }

            & > button {
              @apply p-1 rounded-[50%] transition-colors cursor-pointer;

              &.mark-as-purchased-btn {
                @apply bg-light/50 hover:bg-light;

                &.purchased {
                  @apply bg-cta hover:bg-cta/75;
                }
              }
            }

            .item-menu {
              button {
                @apply block bg-dark p-1 pr-2 text-title text-sm font-medium text-start text-nowrap transition-[filter] hover:brightness-75 last:border-t-1 last:border-t-description/50 w-full cursor-pointer;
              }
            }
          }
        }
      }
    }
  }
}
